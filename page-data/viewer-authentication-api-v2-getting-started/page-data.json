{
    "componentChunkName": "component---src-pages-viewer-authentication-api-v-2-getting-started-mdx",
    "path": "/viewer-authentication-api-v2-getting-started/",
    "result": {"pageContext":{"frontmatter":{"title":"Getting started","description":"Getting started"},"relativePagePath":"/viewer-authentication-api-v2-getting-started.mdx","titleType":"page","MdxNode":{"id":"278fb47a-abd4-5ea6-9289-cc347bc19ad3","children":[],"parent":"b18d97d9-9508-55a0-987f-aeeb421534ac","internal":{"content":"---\ntitle: Getting started\ndescription: Getting started\n---\n\n## Introduction\n\nViewer Authentication API lets you implement a custom authentication process. This prevents live and recorded videos on your account from being accessed until the viewer authenticates. \nThe authentication process is based on JSON Web Token ([JWT](https://datatracker.ietf.org/doc/html/rfc7519)) standards ([JWE](https://datatracker.ietf.org/doc/html/rfc7516) and [JWS](https://datatracker.ietf.org/doc/html/rfc7515)).\n\n## Flow\n\nTo implement viewer authentication flow you need to create an application that includes the following:\n\n* Screens your viewers need to go through to authenticate\n* Backend code that validates these authentication requests\n* The process to redirect back to / or embed IBM Video Streaming components (player, QnA, Chat) with authentication token\n\n### Embed with Token\n\nIf you have protected pages where you want to use our embedded components, you can pass the authentication token directly to the embed URL in the vt query parameter.\n\n<Row className=\"image-card-group\">\n  <Column noGutterSm>\n\n![Viewer Authentication Flow - Embed with Token](/static-content/viewer-auth-embed-with-token@2x.png)\n\n</Column>\n</Row>\n\n### Redirect Flow\n\nIf you embed the player to an unprotected page or use IBM's channel page, the player will redirect the viewer to your authentication endpoint. You need to redirect back to the ref URL (passed in query parameter) with authentication token in the vt query parameter.\n\n<Row className=\"image-card-group\">\n  <Column noGutterSm>\n\n![Viewer Authentication Flow - Embed with Token](/static-content/viewer-auth-redirect-flow@2x.png)\n\n</Column>\n</Row>\n\n## Viewer Authentication Settings\n\nYou can enable viewer authentication via API.\n\n1. Generate an RSA key pair with 2048 bits key size\n1. Set the public key and authentication URL to the content (channel or video) via API. [See more](/viewer-authentication-api-v2-settings-api#set-viewer-authentication-parameters-for-a-channel)\n    * and store the private key in your system secure way\n\n    <InlineNotification kind=\"warning\">\n\n    **Do not share private keys with us or anybody**\n\n    </InlineNotification>\n\nWe recommend using different key pairs for every content.\n\nBy default, every video inherits these settings from the channel but if you want to use different authentication for a video you can set it. [See more](/viewer-authentication-api-v2-settings-api#set-viewer-authentication-for-a-video)\n\n**Example to key generation:**\n```bash\nssh-keygen -t rsa -b 2048 -E SHA512 -m PEM -P \"\" -f content_1234567.key\nopenssl rsa -in content_1234567.key -pubout -outform PEM -out content_1234567.key.pub\n```\n\n## Viewer Authentication Token\n\nViewer Authentication Token token is an encrypted JWT (JWE) that contains a signed JWT (JWS) with the following mandatory claims:\n\n* sub: Subject, the token subject (identifier of the viewer, we recommend e-mail address)\n* iat: Issued at, Unix timestamp in seconds when the token was generated. We will accept the token in the next 60 seconds from this timestamp. (We don't accept tokens with future issued at timestamps)\n\nThe JWS is signed with your private key that you set to the content. The JWE is encrypted with Watson Media's public key that you can get from the API. [See more](/viewer-authentication-api-v2-settings-api#get-ibm-video-streaming-public-key)\n\n### Viewer Authentication Token Lifecycle\n\n* You can use the same token for the different components (Player, Chat, QnA)\n* You can use every token once for a component: when the component embeds reloaded (eg: viewer reload the page) you need to generate a new token.\n* The token lifetime is 60 seconds after issued\n\n### Token generation method\n\n<Row className=\"image-card-group\">\n<Column colMd={12} colLg={10} colXl={8} colMax={8} noGutterSm>\n\n![Viewer Authentication Flow - Embed with Token](/static-content/viewer-auth-token-generation@2x.png)\n\n</Column>\n</Row>\n","type":"Mdx","contentDigest":"05013ab442894404bc25d66721038cfb","owner":"gatsby-plugin-mdx","counter":364},"frontmatter":{"title":"Getting started","description":"Getting started"},"exports":{},"rawBody":"---\ntitle: Getting started\ndescription: Getting started\n---\n\n## Introduction\n\nViewer Authentication API lets you implement a custom authentication process. This prevents live and recorded videos on your account from being accessed until the viewer authenticates. \nThe authentication process is based on JSON Web Token ([JWT](https://datatracker.ietf.org/doc/html/rfc7519)) standards ([JWE](https://datatracker.ietf.org/doc/html/rfc7516) and [JWS](https://datatracker.ietf.org/doc/html/rfc7515)).\n\n## Flow\n\nTo implement viewer authentication flow you need to create an application that includes the following:\n\n* Screens your viewers need to go through to authenticate\n* Backend code that validates these authentication requests\n* The process to redirect back to / or embed IBM Video Streaming components (player, QnA, Chat) with authentication token\n\n### Embed with Token\n\nIf you have protected pages where you want to use our embedded components, you can pass the authentication token directly to the embed URL in the vt query parameter.\n\n<Row className=\"image-card-group\">\n  <Column noGutterSm>\n\n![Viewer Authentication Flow - Embed with Token](/static-content/viewer-auth-embed-with-token@2x.png)\n\n</Column>\n</Row>\n\n### Redirect Flow\n\nIf you embed the player to an unprotected page or use IBM's channel page, the player will redirect the viewer to your authentication endpoint. You need to redirect back to the ref URL (passed in query parameter) with authentication token in the vt query parameter.\n\n<Row className=\"image-card-group\">\n  <Column noGutterSm>\n\n![Viewer Authentication Flow - Embed with Token](/static-content/viewer-auth-redirect-flow@2x.png)\n\n</Column>\n</Row>\n\n## Viewer Authentication Settings\n\nYou can enable viewer authentication via API.\n\n1. Generate an RSA key pair with 2048 bits key size\n1. Set the public key and authentication URL to the content (channel or video) via API. [See more](/viewer-authentication-api-v2-settings-api#set-viewer-authentication-parameters-for-a-channel)\n    * and store the private key in your system secure way\n\n    <InlineNotification kind=\"warning\">\n\n    **Do not share private keys with us or anybody**\n\n    </InlineNotification>\n\nWe recommend using different key pairs for every content.\n\nBy default, every video inherits these settings from the channel but if you want to use different authentication for a video you can set it. [See more](/viewer-authentication-api-v2-settings-api#set-viewer-authentication-for-a-video)\n\n**Example to key generation:**\n```bash\nssh-keygen -t rsa -b 2048 -E SHA512 -m PEM -P \"\" -f content_1234567.key\nopenssl rsa -in content_1234567.key -pubout -outform PEM -out content_1234567.key.pub\n```\n\n## Viewer Authentication Token\n\nViewer Authentication Token token is an encrypted JWT (JWE) that contains a signed JWT (JWS) with the following mandatory claims:\n\n* sub: Subject, the token subject (identifier of the viewer, we recommend e-mail address)\n* iat: Issued at, Unix timestamp in seconds when the token was generated. We will accept the token in the next 60 seconds from this timestamp. (We don't accept tokens with future issued at timestamps)\n\nThe JWS is signed with your private key that you set to the content. The JWE is encrypted with Watson Media's public key that you can get from the API. [See more](/viewer-authentication-api-v2-settings-api#get-ibm-video-streaming-public-key)\n\n### Viewer Authentication Token Lifecycle\n\n* You can use the same token for the different components (Player, Chat, QnA)\n* You can use every token once for a component: when the component embeds reloaded (eg: viewer reload the page) you need to generate a new token.\n* The token lifetime is 60 seconds after issued\n\n### Token generation method\n\n<Row className=\"image-card-group\">\n<Column colMd={12} colLg={10} colXl={8} colMax={8} noGutterSm>\n\n![Viewer Authentication Flow - Embed with Token](/static-content/viewer-auth-token-generation@2x.png)\n\n</Column>\n</Row>\n","fileAbsolutePath":"/home/runner/work/video-streaming-developer-docs/video-streaming-developer-docs/src/pages/viewer-authentication-api-v2-getting-started.mdx"}}},
    "staticQueryHashes": ["1364590287","137577622","2102389209","2203542295","2746626797","3037994772","559098832","768070550"]}