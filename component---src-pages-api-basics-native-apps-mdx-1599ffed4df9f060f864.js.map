{"version":3,"file":"component---src-pages-api-basics-native-apps-mdx-1599ffed4df9f060f864.js","mappings":"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","sources":["webpack://example/./src/pages/api-basics-native-apps.mdx"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/video-streaming-developer-docs/video-streaming-developer-docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst Title = makeShortcode(\"Title\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2>{`Overview`}</h2>\n    <p>{`Native and mobile apps cannot store secrets in a secure way. Consequently, it’s not recommended to use the standard\nauthorization code flow, since it requires a client secret when exchanging the authorization code for an access token\non the token endpoint. By selecting the “Native application” option on the IBM Video Streaming dashboard, PKCE\n(`}<a parentName=\"p\" {...{\n        \"href\": \"https://tools.ietf.org/html/rfc7636\"\n      }}>{`https://tools.ietf.org/html/rfc7636`}</a>{`) protocol can be forced to secure the authorization flow. PKCE is a technique for public\nclients to mitigate the threat of having the authorization code intercepted. Clients need to create a secret, then use\nthat secret again when exchanging the authorization code for an access token. This way if the code is intercepted,\nby a malicious application it won’t be able to use it because the token request relies on the initial secret.`}</p>\n    <h3>{`Generate a code verifier and code challenge`}</h3>\n    <p>{`Apps must generate a unique code verifier for every authorization request. This value must be transformed to a\n`}<inlineCode parentName=\"p\">{`code_challenge`}</inlineCode>{`, which is sent to the authorization server to obtain the authorization code.\nA `}<inlineCode parentName=\"p\">{`code_verifier`}</inlineCode>{` is a high-entropy cryptographic random string using the unreserved characters\n`}<inlineCode parentName=\"p\">{`[A-Z]`}</inlineCode>{` / `}<inlineCode parentName=\"p\">{`[a-z]`}</inlineCode>{` / `}<inlineCode parentName=\"p\">{`[0-9]`}</inlineCode>{` / `}<inlineCode parentName=\"p\">{`-`}</inlineCode>{` / `}<inlineCode parentName=\"p\">{`.`}</inlineCode>{` / `}<inlineCode parentName=\"p\">{`_`}</inlineCode>{` / `}<inlineCode parentName=\"p\">{`~`}</inlineCode>{`, with a minimum length of 43 characters and a maximum length of 128 characters.\nThe code verifier should have enough entropy to make it impractical to guess the value.`}</p>\n    <Title mdxType=\"Title\">Supported methods for generating a code challenge</Title>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`METHOD`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`DESCRIPTION`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`plain`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The code challenge is the same value as the code verifier generated above. `}<inlineCode parentName=\"td\">{`code_challenge`}</inlineCode>{` = `}<inlineCode parentName=\"td\">{`code_verifier`}</inlineCode></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`S256`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The code challenge is the Base64URL (without padding) encoded SHA256 hash of the code verifier. `}<inlineCode parentName=\"td\">{`code_challenge`}</inlineCode>{` = `}<inlineCode parentName=\"td\">{`BASE64URL-ENCODE(SHA256(ASCII(code_verifier)))`}</inlineCode></td>\n        </tr>\n      </tbody>\n    </table>\n    <h3>{`Send a request to the auth server`}</h3>\n    <p>{`To obtain user authorization, send a request to the authorization server at `}<a parentName=\"p\" {...{\n        \"href\": \"https://authentication.video.ibm.com/authorize\"\n      }}>{`https://authentication.video.ibm.com/authorize`}</a>{`. This endpoint handles active session lookup, authenticates the user, and obtains user consent.\nThe authorization server supports the following additional query string parameters for installed applications:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`PARAMETER`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`IMPORTANCE`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`DESCRIPTION`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`code_challenge`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`REQUIRED`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Specifies an encoded `}<inlineCode parentName=\"td\">{`code_verifier`}</inlineCode>{` that will be used as a server-side challenge during authorization code exchange`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`code_challenge_method`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`OPTIONAL`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Defaults to `}<inlineCode parentName=\"td\">{`plain`}</inlineCode>{`. Must be used with `}<inlineCode parentName=\"td\">{`code_challenge`}</inlineCode>{`. Supported values: `}<inlineCode parentName=\"td\">{`plain`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`S256`}</inlineCode></td>\n        </tr>\n      </tbody>\n    </table>\n    <h3>{`Exchange authorization code for refresh and access tokens`}</h3>\n    <p>{`To exchange an authorization code for an access token, call the token endpoint (`}<a parentName=\"p\" {...{\n        \"href\": \"https://video.ibm.com/oauth2/token\"\n      }}>{`https://video.ibm.com/oauth2/token`}</a>{`) and set the following parameters:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`PARAMETER`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`TYPE`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`IMPORTANCE`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`DESCRIPTION`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`grant_type`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`REQUIRED`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`MUST be `}<inlineCode parentName=\"td\">{`authorization_code`}</inlineCode>{` in this case.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`client_id`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`REQUIRED`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`40-character long string, provided by IBM Video Streaming`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`code`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`REQUIRED`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The authorization code received from the authorization endpoint`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`code_verifier`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`REQUIRED`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Code verifier that has been created`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`redirect_uri`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`REQUIRED`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The redirect URI used by the authorization server to return the authorization response`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h4>{`Example`}</h4>\n    <p>{`The following is an example with the authorization code flow using PKCE.`}</p>\n    <p>{`1 - The client opens a browser with the authorization endpoint:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`https://authentication.video.ibm.com/authorize\n?response_type=code\n&client_id=AAAAAAAAAABBBBBBBBBBCCCCCCCCCCDDDDDDDDDD\n&redirect_uri=https://example.com/get_auth_code\n&scope=broadcaster\n&state=XYZ\n&code_challenge=bWl6dQ\n&code_challenge_method=S256\n`}</code></pre>\n    <p>{`2 - The user enters his/her credentials and presses the Allow button. The browser is redirected to the following URL:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`http://example.com/get_access_token?code=19d8dbb3ebac55f110c3b526e38bcfdfbf46d659&state=XYZ\n`}</code></pre>\n    <p>{`3 - The page handler at `}<a parentName=\"p\" {...{\n        \"href\": \"http://example.com/get_access_token\"\n      }}>{`http://example.com/get_access_token`}</a>{` retrieves the Access Token using the Token Endpoint:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`POST /oauth2/token HTTP/1.1\nHost: video.ibm.com\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=authorization_code&client_id=AAAAAAAAAABBBBBBBBBBCCCCCCCCCCDDDDDDDDDD&code=19d8dbb3ebac55f110c3b526e38bcfdfbf46d659&redirect_uri=http://example.com/get_access_token&code_verifier=asdf\n`}</code></pre>\n    <p>{`4 - The response of the Token Endpoint contains the access token:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`HTTP/1.1 200 OK\nCache-Control: no-store\nContent-Type:application/json; charset=UTF-8\n\n{\"access_token\":\"ab345cdef123ef1267890abcdef04567890abcd1\",\"refresh_token\":\"cb345cdef123ef1267890abcdef04567890abcd1\",\"token_type\":\"bearer\", \"expires_in\":86400}\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["name","_frontmatter","Title","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"sourceRoot":""}