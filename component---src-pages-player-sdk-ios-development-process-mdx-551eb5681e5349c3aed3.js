"use strict";(self.webpackChunkexample=self.webpackChunkexample||[]).push([[6172],{47928:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return s},default:function(){return d}});var n,r=a(63366),l=(a(67294),a(64983)),i=a(56928),o=["components"],s={},p=(n="InlineNotification",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,l.kt)("div",e)}),c={_frontmatter:s},u=i.Z;function d(e){var t=e.components,a=(0,r.Z)(e,o);return(0,l.kt)(u,Object.assign({},c,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)(p,{kind:"warning",mdxType:"InlineNotification"},(0,l.kt)("p",null,"Please note that as of November 1st, 2022 IBM has discontinued support for the Video Streaming Player SDK. It will not receive updates or technical support and may not fully function. For SDKs you have already downloaded, please do not use them to build applications and delete them from your archives. You may find information for alternative methods to create customized viewer experiences with our APIs on our ",(0,l.kt)("a",{parentName:"p",href:"https://developers.video.ibm.com/player-api-examples/custom-ui"},"Developer Tools pages"),". Users may also continue to access Video Streaming through the web, both at ",(0,l.kt)("a",{parentName:"p",href:"https://video.ibm.com/"},"video.ibm.com")," and through Embedded modules.")),(0,l.kt)("h2",null,"Step 1: Create credentials for your mobile app"),(0,l.kt)("p",null,"Log in to your account, navigate to the ",(0,l.kt)("a",{parentName:"p",href:"https://video.ibm.com/dashboard"},"Dashboard")," and select ",(0,l.kt)("a",{parentName:"p",href:"https://video.ibm.com/dashboard/integrations/api-access"},"“API/SDK access”"),"\nunder the “Integrations & Apps” menu."),(0,l.kt)("p",null,"Click on “Create new credentials” and provide a name for your application in the “Application name” field. Your credentials will be listed under the “API/SDK access” page based on this name."),(0,l.kt)("p",null,"Select iOS in the “Platform” drop-down. Enter the “bundle id” in its respective field."),(0,l.kt)("p",null,"After you completed all fields, hit “Save” to generate your SDK credentials. Make sure that the “bundle id” is introduced correctly, as you will have no possibility to update them later. If you\naccidentally saved wrong values, start the process from the beginning and create new credentials with the correct values."),(0,l.kt)("h2",null,"Step 2: Download SDK package"),(0,l.kt)("p",null,"After hitting “Save” in the “Create new credentials” step, you will see your credentials listed."),(0,l.kt)("p",null,"The created credentials entry will have a “Download iOS Player SDK” button at the bottom, click it to download the SDK package."),(0,l.kt)("h2",null,"Step 3: Explore the SDK package"),(0,l.kt)("p",null,"The provided zip archive contains the binary frameworks and a sample application."),(0,l.kt)("h2",null,"Step 4: Create (or open) your project"),(0,l.kt)("p",null,"Open the project that you would like to integrate the SDK in."),(0,l.kt)("h2",null,"Step 5: Add the SDK to the project"),(0,l.kt)("p",null,"Drag IBMVideoPlayerSDK.xcframework and IBMCoreSDK.xcframework into the Embedded Binaries section of your target."),(0,l.kt)("h2",null,"Step 6: Register your app at IBM"),(0,l.kt)("p",null,"The SDK requires the use of an IBM Player SDK key, which is validated whenever the SDK communicates with IBM’s streaming servers.\nThe sample application contains a sample SDK key which you can use for testing. The sample SDK key can only be\nused to play content on the test channel(s) that are used in the sample app."),(0,l.kt)("p",null,"Note: Although there is a provided SDK key for the sample app’s sample content, you still need to register your identifier at IBM."),(0,l.kt)("p",null,"Before you can start using the Player SDK for playing content from your own channel(s), you will need to:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Get a valid ",(0,l.kt)("strong",{parentName:"li"},"IBM Player SDK key")," belonging to the Account that owns the content you would like to play."),(0,l.kt)("li",{parentName:"ul"},"Register the ",(0,l.kt)("strong",{parentName:"li"},"bundle identifier(s)")," of every app in which you will integrate the IBM Player SDK in.")),(0,l.kt)("p",null,"The application identifier is typically structured as ",(0,l.kt)("inlineCode",{parentName:"p"},"com.company.project"),"."),(0,l.kt)("p",null,"Before you can create and use an instance of the player you must configure the lib with your IBM Player SDK key:"),(0,l.kt)("h5",null,"Objective-C"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-objc"},"[USUstreamPlayer configureWithApiKey:<#place your SDK key here#>];\n")),(0,l.kt)("h5",null,"Swift"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-swift"},"USUstreamPlayer.configure(withApiKey:<#place your SDK key here#>)\n")),(0,l.kt)("h2",null,"Step 7: Create a Player"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"USUstreamPlayer")," can be instantiated in the usual way. The created player object is a subclass of the ",(0,l.kt)("inlineCode",{parentName:"p"},"USUstreamPlayer")," optimized for the targeted device (iPhone or iPad)."),(0,l.kt)("h5",null,"Objective-C"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-objc"},"#import <IBMVideoPlayerSDK/IBMVideoPlayerSDK.h>\n\nself.ustreamPlayer = [[USUstreamPlayer alloc] init];\nself.ustreamPlayer.delegate = self;\nself.ustreamPlayer.view.frame = self.view.bounds;\n[self.view addSubview:self.ustreamPlayer.view];\n")),(0,l.kt)("h5",null,"Swift"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-swift"},"import IBMVideoPlayerSDK\n\nself.ustreamPlayer = USUstreamPlayer()\nself.ustreamPlayer.delegate = self\nself.ustreamPlayer.view.frame = self.view.bounds\nself.view.addSubview(self.ustreamPlayer.view)\n")),(0,l.kt)("h2",null,"Step 8: Play live or recorded content"),(0,l.kt)("p",null,"By now you have configured your player and it is ready to stream video content through IBM’s services."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"USUstreamPlayer")," can play different kinds of media:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Live streams"),(0,l.kt)("li",{parentName:"ul"},"Recorded videos")),(0,l.kt)("p",null,"For example, to watch the live video playing on your channel:"),(0,l.kt)("h5",null,"Objective-C"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-objc"},"self.mediaDescriptor = [USMediaDescriptor channelDescriptorWithID:<#place your channel ID here#>];\n[self.ustreamPlayer playMedia:self.mediaDescriptor];\n")),(0,l.kt)("h5",null,"Swift"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-swift"},"self.mediaDescriptor = USMediaDescriptor.channelDescriptor(withID:<#place your channel ID here#>)\nself.ustreamPlayer.playMedia(self.mediaDescriptor)\n")),(0,l.kt)("h2",null,"Step 9: Handle Player callbacks"),(0,l.kt)("p",null,"Content owners can control access to their media using various “locks” that implement password protection, age restriction and other protections. Streaming servers reject clients trying to connect whenever lock conditions are not met. The SDK calls the appropriate callback function to indicate this to the application."),(0,l.kt)("h3",null,"Generic callbacks"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"USUstreamPlayer")," reports its state changes using the ",(0,l.kt)("inlineCode",{parentName:"p"},"USPlayerDelegate")," protocol. Some callbacks may also require user interaction in case the servers notify the Player about content restrictions. For example, when “lock” conditions are not met."),(0,l.kt)("p",null,"In order to receive these callbacks, you need to define a handler conforming to protocol ",(0,l.kt)("inlineCode",{parentName:"p"},"USPlayerDelegate")," and set it as a delegate of your player instance."),(0,l.kt)("h5",null,"Objective-C"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-objc"},"self.ustreamPlayer.delegate = self;\n")),(0,l.kt)("h5",null,"Swift"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-swift"},"self.ustreamPlayer.delegate = self\n")),(0,l.kt)("h4",null,"Player state is changed"),(0,l.kt)("p",null,"The player instance reports its state changes so that application states can be updated accordingly. For example, your app can change the layout of the player screen depending on whether playback is in progress."),(0,l.kt)("p",null,"The most important callback indicating such change is the ",(0,l.kt)("inlineCode",{parentName:"p"},"playerStateDidChange:"),", which reports the state of the Player. The states are listed in the ",(0,l.kt)("inlineCode",{parentName:"p"},"USPlayerState")," enum."),(0,l.kt)("h3",null,"Interactive callbacks"),(0,l.kt)("p",null,"Callbacks listed below are “interactive”, this means they can be used to reconnect for playback after some kind of user input."),(0,l.kt)("h4",null,"Password lock"),(0,l.kt)("p",null,"When the Player sends the callback: ",(0,l.kt)("inlineCode",{parentName:"p"},"playerRequiresPassword:")," it waits for a password belonging to the locked content. You can provide the password using ",(0,l.kt)("inlineCode",{parentName:"p"},"continueWithPassword:"),"\nWhen you provide the password, the server validates it and starts playing the content if the password is valid. Otherwise it calls back again with ",(0,l.kt)("inlineCode",{parentName:"p"},"playerRequiresPassword:"),"."),(0,l.kt)("h4",null,"Age lock (deprecated)"),(0,l.kt)("p",null,"When the Player sends either callback ",(0,l.kt)("inlineCode",{parentName:"p"},"playerRequiresAgeConfirmation:ageRequired:")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"playerRequiresBirthdate:")," you need to ask the user’s birth date without hints to the required age. If the user-specified age is not less than the required age, you can continue the playback with ",(0,l.kt)("inlineCode",{parentName:"p"},"continueWithAgeConfirmed"),"."),(0,l.kt)("h4",null,"Hash lock (deprecated)"),(0,l.kt)("p",null,"A deprecated custom viewer authentication flow. Use ","[Viewer auth]"," instead."),(0,l.kt)("h4",null,"Viewer auth"),(0,l.kt)("p",null,"Implementing custom viewer authentication flow is possible using the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.video.ibm.com/viewer-authentication-api-v2-getting-started"},"Viewer Authentication API"),". If the channel or video is set up with custom viewer authentication, the player sends the callback ",(0,l.kt)("inlineCode",{parentName:"p"},"playerRequiresViewerAuthToken:fromURL:")," where the application should present the custom authentication flow for the user. For more information on implementing the flow please refer to the ",(0,l.kt)("a",{parentName:"p",href:"https://developers.video.ibm.com/viewer-authentication-api-v2-getting-started"},"Viewer Authentication API documentation"),".\nOnce the authentication flow is finished, ",(0,l.kt)("inlineCode",{parentName:"p"},"USUstreamPlayer")," ",(0,l.kt)("inlineCode",{parentName:"p"},"continueWithViewerAuthToken:")," should be called with the resulting ",(0,l.kt)("inlineCode",{parentName:"p"},"token")," object of the authentication flow. If the provided ",(0,l.kt)("inlineCode",{parentName:"p"},"token")," object is validated the player gains access to the restricted resource and starts playing it back."))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-player-sdk-ios-development-process-mdx-551eb5681e5349c3aed3.js.map