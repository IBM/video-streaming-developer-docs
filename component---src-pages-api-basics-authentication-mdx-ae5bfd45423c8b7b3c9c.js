"use strict";(self.webpackChunkexample=self.webpackChunkexample||[]).push([[8327],{2724:function(t,e,n){n.r(e),n.d(e,{_frontmatter:function(){return d},default:function(){return u}});var a,r=n(63366),l=(n(67294),n(64983)),i=n(8152),o=["components"],d={},p=(a="Title",function(t){return console.warn("Component "+a+" was not imported, exported, or provided by MDXProvider as global scope"),(0,l.kt)("div",t)}),s={_frontmatter:d},k=i.Z;function u(t){var e=t.components,n=(0,r.Z)(t,o);return(0,l.kt)(k,Object.assign({},s,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h2",null,"Authorization flows"),(0,l.kt)("p",null,"The OAuth 2.0 protocol provides several workflows for authorizing a user and obtaining an access token. It depends on the type and architecture of the client which flow is the most suitable. The following workflows are supported:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Authorization Code:")," Suitable for third-party websites which contain a client and a server component."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Client Credentials:")," Best choice for users developing server-side applications to manage their content or settings.")),(0,l.kt)("h3",null,"Authorization Code flow"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"The user enters credentials to a secure login webpage."),(0,l.kt)("li",{parentName:"ol"},"After logging in, the browser is redirected to a special URL (defined by the client), passing an authorization code in the URL."),(0,l.kt)("li",{parentName:"ol"},"The third-party server obtains the access token with another HTTP request in the background, using the authorization code.")),(0,l.kt)("p",null,"See the OAuth 2.0 Authorization Framework (",(0,l.kt)("a",{parentName:"p",href:"https://tools.ietf.org/html/rfc6749"},"https://tools.ietf.org/html/rfc6749"),") for details."),(0,l.kt)("h3",null,"Client Credentials flow"),(0,l.kt)("p",null,"Client credentials can be generated on the Video Streaming dashboard. The client obtains an access token using the ",(0,l.kt)("inlineCode",{parentName:"p"},"client_id")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"client_secret"),". With this token the user’s server-side application can access the resources of the account which is identified by this client_id/client_secret pair."),(0,l.kt)("h2",null,"Authorizing the user"),(0,l.kt)(p,{mdxType:"Title"},"Authorization endpoint"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null}))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Location"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://authentication.video.ibm.com/authorize"},"https://authentication.video.ibm.com/authorize"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Supported HTTP methods"),(0,l.kt)("td",{parentName:"tr",align:null},"GET, POST")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Supported flows"),(0,l.kt)("td",{parentName:"tr",align:null},"Authorization Code")))),(0,l.kt)("p",null,"The authorization endpoint is a secure web page that authenticates the user. The client should show this page to the user in an embedded browser. When the user completes the login process the browser is redirected to a special URL. The client can capture this redirect call and obtain an authorization code."),(0,l.kt)("h3",null,"Parameters"),(0,l.kt)("p",null,"The parameters below specify the behavior of the authorization endpoint. These have to be set in GET or POST HTTP parameters."),(0,l.kt)(p,{mdxType:"Title"},"Supported OAuth 2.0 standard parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"PARAMETER"),(0,l.kt)("th",{parentName:"tr",align:null},"TYPE"),(0,l.kt)("th",{parentName:"tr",align:null},"IMPORTANCE"),(0,l.kt)("th",{parentName:"tr",align:null},"DESCRIPTION"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"response_type")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"REQUIRED"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"code")," for Authorization Code flow")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"client_id")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"REQUIRED"),(0,l.kt)("td",{parentName:"tr",align:null},"40-character long string that identifies the client. Provided by IBM Video Streaming.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"redirect_uri")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"REQUIRED"),(0,l.kt)("td",{parentName:"tr",align:null},"The URI where the browser will redirect after the authentication process. This URI must be registered at IBM Video Streaming.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"state")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"OPTIONAL"),(0,l.kt)("td",{parentName:"tr",align:null},"This value is sent as a GET parameter to the redirect_uri to maintain state between the request and callback. See the OAuth 2.0 Authorization Framework (",(0,l.kt)("a",{parentName:"td",href:"https://tools.ietf.org/html/rfc6749"},"https://tools.ietf.org/html/rfc6749"),") for details.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"scope")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"OPTIONAL"),(0,l.kt)("td",{parentName:"tr",align:null},"Whitelist-separated list of the requested scopes.")))),(0,l.kt)(p,{mdxType:"Title"},"IBM Video Streaming specific extra parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"PARAMETER"),(0,l.kt)("th",{parentName:"tr",align:null},"TYPE"),(0,l.kt)("th",{parentName:"tr",align:null},"IMPORTANCE"),(0,l.kt)("th",{parentName:"tr",align:null},"DESCRIPTION"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"device_name")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"OPTIONAL"),(0,l.kt)("td",{parentName:"tr",align:null},"Full product name of the client device or application. It is used for easy identification of the OAuth 2.0 token. The user will be able to review which clients are connected to his/her account, and revoke this access on the IBM Video Streaming website.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"lang")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"OPTIONAL"),(0,l.kt)("td",{parentName:"tr",align:null},"Show the authorization page in this locale (e.g. en_US); This parameter will also set the language of the newly registered users.")))),(0,l.kt)("h3",null,"Response values"),(0,l.kt)("p",null,"The response values below are appended to the redirect_uri as HTTP GET parameters."),(0,l.kt)("h4",null,"Authorization Code flow"),(0,l.kt)("p",null,"If the ",(0,l.kt)("inlineCode",{parentName:"p"},"response_type")," parameter is ",(0,l.kt)("inlineCode",{parentName:"p"},"code"),", the following properties are returned:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"PROPERTY"),(0,l.kt)("th",{parentName:"tr",align:null},"DESCRIPTION"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"code")),(0,l.kt)("td",{parentName:"tr",align:null},"An authorization code (40-character long string)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"state")),(0,l.kt)("td",{parentName:"tr",align:null},"If state was sent to the endpoint, this information is")))),(0,l.kt)("h3",null,"Error handling"),(0,l.kt)("p",null,"If the authentication was not successful, there is no HTTP redirection: the user can stay on the Authorization Endpoint page until the correct credentials are entered. It is also possible to request a password reset if the password is forgotten."),(0,l.kt)("p",null,"If the user authenticates correctly, but interrupts the authorization flow, e.g. by pressing a Deny button on the authorization page, the browser is redirected to the redirect_uri with the following parameters:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"NAME"),(0,l.kt)("th",{parentName:"tr",align:null},"DESCRIPTION"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"error"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"access_denied"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"state"),(0,l.kt)("td",{parentName:"tr",align:null},"If state was sent to the endpoint, this information is sent back")))),(0,l.kt)("h2",null,"Obtain an access token"),(0,l.kt)(p,{mdxType:"Title"},"Token Endpoint"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null}))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Location"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://video.ibm.com/oauth2/token"},"https://video.ibm.com/oauth2/token"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Supported HTTP methods"),(0,l.kt)("td",{parentName:"tr",align:null},"POST")))),(0,l.kt)("h3",null,"Authorization Code flow"),(0,l.kt)("p",null,"When the client receives the authorization code the server-side component of the client calls the token endpoint to return the access token."),(0,l.kt)("h4",null,"Parameters"),(0,l.kt)("p",null,"The following parameters must be set as HTTP POST parameters:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"PARAMETER"),(0,l.kt)("th",{parentName:"tr",align:null},"TYPE"),(0,l.kt)("th",{parentName:"tr",align:null},"IMPORTANCE"),(0,l.kt)("th",{parentName:"tr",align:null},"DESCRIPTION"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"grant_type")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"REQUIRED"),(0,l.kt)("td",{parentName:"tr",align:null},"MUST be ",(0,l.kt)("inlineCode",{parentName:"td"},"authorization_code")," in this case.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"client_id")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"REQUIRED"),(0,l.kt)("td",{parentName:"tr",align:null},"40-character long string, provided by IBM Video Streaming")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"code")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"REQUIRED"),(0,l.kt)("td",{parentName:"tr",align:null},"The authorization code received from the authorization endpoint")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"redirect_uri")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"REQUIRED"),(0,l.kt)("td",{parentName:"tr",align:null},"The redirection URI used by the authorization server to return the authorization response in the previous step")))),(0,l.kt)("p",null,"In addition to the parameters above, the client must provide its client secret (provided along with the client key) to authenticate itself. The authentication is done with HTTP Basic authorization method."),(0,l.kt)("p",null,"Example HTTP header:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"Authorization: Basic bc345abc45d6789abcdef0123aef0126789def01\n")),(0,l.kt)("h4",null,"Success response"),(0,l.kt)("p",null,"The response of the Token Endpoint is a JSON object."),(0,l.kt)("p",null,"JSON response upon success:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"NAME"),(0,l.kt)("th",{parentName:"tr",align:null},"DESCRIPTION"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"id_token")),(0,l.kt)("td",{parentName:"tr",align:null},"This property is only returned if your request included an openid scope. The value is a JSON Web Token (JWT) that contains digitally signed identity information about the user.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"access_token")),(0,l.kt)("td",{parentName:"tr",align:null},"Access token (40-character long string)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"refresh_token")),(0,l.kt)("td",{parentName:"tr",align:null},"A token that you can use to obtain a new access token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"token_type")),(0,l.kt)("td",{parentName:"tr",align:null},"Will be Bearer Token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"expires_in")),(0,l.kt)("td",{parentName:"tr",align:null},"Token’s current lifetime, in seconds.")))),(0,l.kt)("h4",null,"Example"),(0,l.kt)("p",null,"The following is an example of the authorization code flow."),(0,l.kt)("p",null,"1 - The client opens a browser with the authorization endpoint:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"https://authentication.video.ibm.com/authorize\n?response_type=code\n&client_id=AAAAAAAAAABBBBBBBBBBCCCCCCCCCCDDDDDDDDDD\n&redirect_uri=http://example.com/get_access_token\n&device_name=My%20Device\n&scope=broadcaster\n&state=XYZ\n")),(0,l.kt)("p",null,"2 - The user enters his/her credentials and presses the Allow button. The browser is redirected to the following URL:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"http://example.com/get_access_token?code=19d8dbb3ebac55f110c3b526e38bcfdfbf46d659&state=XYZ\n")),(0,l.kt)("p",null,"3 - The page handler at ",(0,l.kt)("a",{parentName:"p",href:"http://example.com/get_access_token"},"http://example.com/get_access_token")," retrieves the Access Token using the Token Endpoint:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"POST /oauth2/token HTTP/1.1\n    Host: video.ibm.com\n    Authorization: Basic xxxxxxxxxxyyyyyyyyyywwwwwwwwwwzzzzzzzzzz\n    Content-Type: application/x-www-form-urlencoded\ngrant_type=authorization_code&client_id=AAAAAAAAAABBBBBBBBBBCCCCCCCCCCDDDDDDDDDD\n    &code=19d8dbb3ebac55f110c3b526e38bcfdfbf46d659&redirect_uri=http://example.com/get_access_token\n\n")),(0,l.kt)("p",null,"4 - The response of token endpoint contains the access token:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'HTTP/1.1 200 OK\n    Cache-Control: no-store\n    Content-Type:application/json; charset=UTF-8\n    {"access_token":"ab345cdef123ef1267890abcdef04567890abcd1", "refresh_token":"cb12cdef123ef1267890abcdef04567890abcd1","token_type":"bearer", "expires_in":86400}\n\n')),(0,l.kt)("h3",null,"Client Credentials flow"),(0,l.kt)("h4",null,"Parameters"),(0,l.kt)("p",null,"The following parameters must be set as HTTP POST parameters:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"PARAMETER"),(0,l.kt)("th",{parentName:"tr",align:null},"TYPE"),(0,l.kt)("th",{parentName:"tr",align:null},"IMPORTANCE"),(0,l.kt)("th",{parentName:"tr",align:null},"DESCRIPTION"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"grant_type")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"REQUIRED"),(0,l.kt)("td",{parentName:"tr",align:null},"MUST be ",(0,l.kt)("inlineCode",{parentName:"td"},"client_credentials")," in this case.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"client_id")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"REQUIRED"),(0,l.kt)("td",{parentName:"tr",align:null},"40-character long string, provided by IBM Video Streaming.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"device_name")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"OPTIONAL"),(0,l.kt)("td",{parentName:"tr",align:null},"device name")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"scope")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"OPTIONAL"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"broadcaster")," for broadcaster scope, or space separated URL encoded list of these strings")))),(0,l.kt)("p",null,"In addition to the parameters above, the client must provide its client secret (provided along with the client key) to authenticate itself. The authentication is done with HTTP Basic authorization method."),(0,l.kt)("p",null,"Example HTTP header:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"Authorization: Basic bc345abc45d6789abcdef0123aef0126789def01\n")),(0,l.kt)(p,{mdxType:"Title"},"Success response"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"NAME"),(0,l.kt)("th",{parentName:"tr",align:null},"DESCRIPTION"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"id_token")),(0,l.kt)("td",{parentName:"tr",align:null},"This property is only returned if your request included an openid scope. The value is a JSON Web Token (JWT) that contains digitally signed identity information about the user.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"access_token")),(0,l.kt)("td",{parentName:"tr",align:null},"Access token (40-character long string)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"refresh_token")),(0,l.kt)("td",{parentName:"tr",align:null},"A token that you can use to obtain a new access token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"token_type")),(0,l.kt)("td",{parentName:"tr",align:null},"Will be bearer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"expires_in")),(0,l.kt)("td",{parentName:"tr",align:null},"Token’s current lifetime, in seconds.")))),(0,l.kt)(p,{mdxType:"Title"},"Possible error responses"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"HTTP RESPONSE CODE"),(0,l.kt)("th",{parentName:"tr",align:null},"ERROR VALUE"),(0,l.kt)("th",{parentName:"tr",align:null},"ERROR CONDITIONS"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"400 Bad Request"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"invalid_client")),(0,l.kt)("td",{parentName:"tr",align:null},"The referred client is missing, the secret is wrong or the authorization requester client and token requester client does not match.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"400 Bad Request"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"invalid_grant")),(0,l.kt)("td",{parentName:"tr",align:null},"The supplied authorization_code does not exist or expired")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"400 Bad Request"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"invalid_request")),(0,l.kt)("td",{parentName:"tr",align:null},"One or more required parameters are missing")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"501 Not Implemented"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"unsupported_grant_type")),(0,l.kt)("td",{parentName:"tr",align:null},"The client asks for an unsupported grant type, currently only ",(0,l.kt)("inlineCode",{parentName:"td"},"authorization_code"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"client_credentials")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"refresh_token")," are supported.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"503 Server Error"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"server_error")),(0,l.kt)("td",{parentName:"tr",align:null},"The server cannot handle the request at this moment for some reason. Try again later.")))),(0,l.kt)("h2",null,"Refreshing access tokens"),(0,l.kt)("p",null,"When access tokens expire or become invalid, applications can obtain a new access token using a refresh token without prompting users to enter their login credentials again. The refresh token is returned as a response of one of the previous token requests. Because refresh tokens are last for 30 days, developers should ensure that strict storage requirements are in place to keep them from being leaked."),(0,l.kt)("h4",null,"Parameters"),(0,l.kt)("p",null,"The following parameters must be set as HTTP POST parameters:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"PARAMETER"),(0,l.kt)("th",{parentName:"tr",align:null},"TYPE"),(0,l.kt)("th",{parentName:"tr",align:null},"IMPORTANCE"),(0,l.kt)("th",{parentName:"tr",align:null},"DESCRIPTION"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"grant_type")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"REQUIRED"),(0,l.kt)("td",{parentName:"tr",align:null},"MUST be ",(0,l.kt)("inlineCode",{parentName:"td"},"refresh_token"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"refresh_token")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"REQUIRED"),(0,l.kt)("td",{parentName:"tr",align:null},"A token that you can use to obtain a new access token. Refresh tokens are valid for 30 days or until the user revokes access.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"client_id")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"REQUIRED"),(0,l.kt)("td",{parentName:"tr",align:null},"Client id provided by IBM Video Streaming.")))),(0,l.kt)("p",null,"In addition to the parameters above, the client must provide its client secret (provided along with the client key) to authenticate if the client acts as a “web application”. Sending client secret can be omitted in case of “native application”.\nThe authentication is done with HTTP Basic authorization method."),(0,l.kt)("p",null,"Example HTTP header:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"Authorization: Basic bc345abc45d6789abcdef0123aef0126789def01\n")),(0,l.kt)("h4",null,"Success response"),(0,l.kt)("p",null,"The response of the Token Endpoint is a JSON object."),(0,l.kt)("p",null,"JSON response upon success are:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"NAME"),(0,l.kt)("th",{parentName:"tr",align:null},"DESCRIPTION"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"id_token")),(0,l.kt)("td",{parentName:"tr",align:null},"This property is only returned if your request included an openid scope. The value is a JSON Web Token (JWT) that contains digitally signed identity information about the user.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"access_token")),(0,l.kt)("td",{parentName:"tr",align:null},"Access token (40-character long string)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"refresh_token")),(0,l.kt)("td",{parentName:"tr",align:null},"A token that you can use to obtain a new access token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"token_type")),(0,l.kt)("td",{parentName:"tr",align:null},"Will be Bearer Token")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"expires_in")),(0,l.kt)("td",{parentName:"tr",align:null},"Token’s current lifetime, in seconds.")))),(0,l.kt)("h4",null,"Example"),(0,l.kt)("p",null,"Previous token endpoint response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "access_token": "ab345cdef123ef1267890abcdef04567890abcd1",\n  "refresh_token": "cb345cdef123ef1267890abcdef04567890abcd1",\n  "token_type": "bearer",\n  "expires_in": 86400\n}\n')),(0,l.kt)("p",null,"Refresh token request:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"POST /oauth2/token HTTP/1.1\nHost: video.ibm.com\nAuthorization: Basic xxxxxxxxxxyyyyyyyyyywwwwwwwwwwzzzzzzzzzz\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=refresh_token&client_id=AAAAAAAAAABBBBBBBBBBCCCCCCCCCCDDDDDDDDDD&refresh_token=cb345cdef123ef1267890abcdef04567890abcd1\n")),(0,l.kt)("p",null,"Refresh token response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "access_token": "db345cdef123ef1267890abcdef04567890abcd1",\n  "refresh_token": "eb345cdef123ef1267890abcdef04567890abcd1",\n  "token_type": "bearer",\n  "expires_in": 86400\n}\n')))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-api-basics-authentication-mdx-ae5bfd45423c8b7b3c9c.js.map