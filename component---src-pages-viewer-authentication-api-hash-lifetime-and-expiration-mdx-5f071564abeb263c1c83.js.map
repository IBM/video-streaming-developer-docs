{"version":3,"file":"component---src-pages-viewer-authentication-api-hash-lifetime-and-expiration-mdx-5f071564abeb263c1c83.js","mappings":"4LAUsBA,E,6DAFTC,EAAe,CAAC,EAOvBC,GALgBF,EAKmB,qBALX,SAA6BG,GAEzD,OADAC,QAAQC,KAAK,aAAeL,EAAO,4EAC5B,cAASG,EACjB,GAGKG,EAAc,CAClBL,aAAAA,GAEIM,EAAYC,EAAAA,EACH,SAASC,EAAT,GAGX,IAFFC,EAEC,EAFDA,WACGP,GACF,YACD,OAAO,QAACI,EAAD,iBAAeD,EAAiBH,EAAhC,CAAuCO,WAAYA,EAAYC,QAAQ,eAG5E,QAACT,EAAD,CAAoBU,KAAK,UAAUD,QAAQ,uBACzC,kBAAG,kBAAQE,WAAW,KAAnB,wBAAH,+HAA0L,aAAGA,WAAW,IACpM,KAAQ,iDAD8K,yBAA1L,OAIF,0PACA,mKACA,6CACA,mBACE,cAAIA,WAAW,MAAf,2CACA,cAAIA,WAAW,MAAf,uEACA,cAAIA,WAAW,MAAf,qDACA,cAAIA,WAAW,MAAf,0CAEF,+EACA,oBAAK,gBAAMA,WAAW,MAClB,UAAa,eADZ,2gBAoBL,+GACA,mBACE,cAAIA,WAAW,MAAf,mCACA,cAAIA,WAAW,MAAf,2CAEF,4IAGH,CAEDJ,EAAWK,gBAAiB,C","sources":["webpack://example/./src/pages/viewer-authentication-api-hash-lifetime-and-expiration.mdx"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/video-streaming-developer-docs/video-streaming-developer-docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <InlineNotification kind=\"warning\" mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Deprecation Warning:`}</strong>{` This API is deprecated and it is scheduled to be removed on 03/01/2022. Please use (or migrate to) the new version of the `}<a parentName=\"p\" {...{\n          \"href\": \"/viewer-authentication-api-v2-getting-started\"\n        }}>{`Viewer Authentication`}</a>{`.`}</p>\n    </InlineNotification>\n    <p>{`Once a hash is successfully validated by IBM Video Streaming, the player will store the hash in the end user’s browser. This lets the viewer resume watching the video when returning to the page without having authenticate again.`}</p>\n    <p>{`You can specify an expiration date for the hash. When the viewer returns to the page after the expiration date, they must authenticate again.`}</p>\n    <p>{`Expiration date must be`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Specified as UNIX timestamp in seconds`}</li>\n      <li parentName=\"ul\">{`Part of the hash by concatenating it to the rest of the parameters`}</li>\n      <li parentName=\"ul\">{`Included in the response object as “hashExpire”.`}</li>\n      <li parentName=\"ul\">{`JSON encoded as part of the response`}</li>\n    </ul>\n    <p>{`Example script in PHP for specifying hash expiration date`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`// We specify an expiration date as a UNIX timestamp\n// which is valid for one hour.\n$expiration = time()+3600;\n\n// We concatenate it to the rest of the parameters when creating the hash.\n$hash = md5(implode('|', $userData).'|'.$expiration.'|'.$SHARED_SECRET_KEY);\n\n// We include it in the response.\n$response = array_chunk(\n    array_merge($userData, [\"hashExpire\" => $expiration, \"hash\" => $hash]),\n    1,\n    true\n);\n\n// We encode the output into JSON format.\n$json = json_encode($response);\n\n`}</code></pre>\n    <p>{`When validating the authentication response the IBM Video Streaming infrastructure checks`}</p>\n    <ul>\n      <li parentName=\"ul\">{`If the expiration date is past`}</li>\n      <li parentName=\"ul\">{`If the expiration was hashed properly`}</li>\n    </ul>\n    <p>{`This way we can make sure that the expiration date comes from you and it has not been tampered with on the client side.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["name","_frontmatter","InlineNotification","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","kind","parentName","isMDXComponent"],"sourceRoot":""}